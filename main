#include "game.h"

int main() {
    allegro_init();
    install_keyboard();
    install_mouse();
    set_color_depth(32);
    set_gfx_mode(GFX_AUTODETECT_WINDOWED, 800, 700, 0, 0); // Hauteur suffisante
    show_mouse(screen);

    buffer = create_bitmap(800, 700);

    while (!key[KEY_ESC]) {
        switch (game_state) {
            case STATE_MENU: show_menu(); break;
            case STATE_RULES: show_rules(); break;
            case STATE_CHARACTER_SELECTION: show_character_selection(); break;
            case STATE_GAME: show_game(); break;
        }

        blit(buffer, screen, 0, 0, 0, 0, 800, 700);
        clear_bitmap(buffer);
        rest(20);
    }

    destroy_bitmap(buffer);
    return 0;
}
END_OF_MAIN();
